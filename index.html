

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Read and Write CSV Files Using Modern Fortran">
    <meta name="author" content="Jacob Williams" >
    <link rel="icon" href="./favicon.png">

    <title> csv-fortran </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="./css/pygments.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/local.css" rel="stylesheet">
      <link  href="./tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="./js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="./index.html">csv-fortran </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="./lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/types.html">Derived Types</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="./search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <!-- Main component for a primary marketing message or call to action -->
    <div class="p-5 mb-4 bg-light border rounded-3" id="jumbotron">
      <p>Read and Write CSV Files Using Modern Fortran</p>
        <p> Find us on&hellip;</p>
      <p>
        <a class="btn btn-lg btn-primary" href="https://github.com/jacobwilliams/csv-fortran" role="button">GitHub</a>
        
        
        
        
      </p>
    </div>

      <div class="row" id='text'>
        <div class=col-md-8>
          <h1>csv-fortran</h1>
          <h1><img alt="csv-fortran" src="media/logo.png"></h1>
<p><a href="https://github.com/topics/fortran"><img alt="Language" src="https://img.shields.io/badge/-Fortran-734f96?logo=fortran&amp;logoColor=white"></a>
<a href="https://github.com/jacobwilliams/csv-fortran/releases/latest"><img alt="GitHub release" src="https://img.shields.io/github/release/jacobwilliams/csv-fortran.svg"></a>
<a href="https://github.com/jacobwilliams/csv-fortran/actions"><img alt="Build Status" src="https://github.com/jacobwilliams/csv-fortran/actions/workflows/CI.yml/badge.svg"></a>
<a href="https://codecov.io/gh/jacobwilliams/csv-fortran"><img alt="codecov" src="https://codecov.io/gh/jacobwilliams/csv-fortran/branch/master/graph/badge.svg?token=43HK33CSMY"></a>
<a href="https://github.com/jacobwilliams/csv-fortran/commits/master"><img alt="last-commit" src="https://img.shields.io/github/last-commit/jacobwilliams/csv-fortran"></a></p>
<h3>Description</h3>
<p>A modern Fortran library for reading and writing CSV (comma-separated value) files.</p>
<h3>Latest Release</h3>
<p><a href="https://github.com/jacobwilliams/csv-fortran/releases/latest"><img alt="GitHub release" src="https://img.shields.io/github/release/jacobwilliams/csv-fortran.svg?style=plastic"></a></p>
<h3>Documentation</h3>
<p>The latest API documentation for the <code>master</code> branch can be found <a href="https://jacobwilliams.github.io/csv-fortran/">here</a>. This was generated from the source code using <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>.</p>
<h3>Getting started</h3>
<h4>Get the code</h4>
<div class="codehilite"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/jacobwilliams/csv-fortran
<span class="nb">cd</span><span class="w"> </span>csv-fortran
</code></pre></div>

<h4>Dependencies</h4>
<ol>
<li>Git</li>
<li><a href="https://github.com/fortran-lang/fpm">fpm</a> or <a href="https://cmake.org">CMake</a></li>
<li><a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a> (optional)</li>
</ol>
<h4>Build with <a href="https://github.com/fortran-lang/fpm">fortran-lang/fpm</a></h4>
<p>Fortran Package Manager (fpm) is a great package manager and build system for Fortran.
You can build using provided <code>fpm.toml</code>:</p>
<div class="codehilite"><pre><span></span><code>fpm<span class="w"> </span>build
</code></pre></div>

<p>To use <code>csv-fortran</code> within your fpm project, add the following to your <code>fpm.toml</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[dependencies]</span>
<span class="n">csv-fortran</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="p">=</span><span class="s2">&quot;https://github.com/jacobwilliams/csv-fortran.git&quot;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>

<h3>Examples</h3>
<p>Everything is handled by an object-oriented <code>csv_file</code> class. Here is an example for writing a file:</p>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">csv_write_test</span>

<span class="k">use </span><span class="n">csv_module</span>
<span class="k">use </span><span class="n">iso_fortran_env</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="p">:</span><span class="w"> </span><span class="n">wp</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">real64</span>

<span class="k">implicit none</span>

<span class="k">type</span><span class="p">(</span><span class="n">csv_file</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">f</span>
<span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">status_ok</span>

<span class="c">! set optional inputs:</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">initialize</span><span class="p">(</span><span class="n">verbose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.)</span>

<span class="c">! open the file</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="k">open</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span><span class="n">n_cols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">status_ok</span><span class="o">=</span><span class="n">status_ok</span><span class="p">)</span>

<span class="c">! add header</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">add</span><span class="p">([</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">next_row</span><span class="p">()</span>

<span class="c">! add some data:</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">add</span><span class="p">([</span><span class="mf">1.0_wp</span><span class="p">,</span><span class="mf">2.0_wp</span><span class="p">,</span><span class="mf">3.0_wp</span><span class="p">],</span><span class="n">real_fmt</span><span class="o">=</span><span class="s1">&#39;(F5.3)&#39;</span><span class="p">)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">add</span><span class="p">(.</span><span class="n">true</span><span class="p">.)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">next_row</span><span class="p">()</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">add</span><span class="p">([</span><span class="mf">4.0_wp</span><span class="p">,</span><span class="mf">5.0_wp</span><span class="p">,</span><span class="mf">6.0_wp</span><span class="p">],</span><span class="n">real_fmt</span><span class="o">=</span><span class="s1">&#39;(F5.3)&#39;</span><span class="p">)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">add</span><span class="p">(.</span><span class="n">false</span><span class="p">.)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">next_row</span><span class="p">()</span>

<span class="c">! finished</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="k">close</span><span class="p">(</span><span class="n">status_ok</span><span class="p">)</span>

<span class="k">end program </span><span class="n">csv_write_test</span>
</code></pre></div>

<p>Which produces the following file:</p>
<div class="codehilite"><pre><span></span><code>x,y,z,t
1.000,2.000,3.000,T
4.000,5.000,6.000,F
</code></pre></div>

<p>Real, integer, logical, or character data can be added as scalars, vectors, and matrices.</p>
<p>When reading a CSV file, the data is stored internally in the class as allocatable character strings, which can be retrieved as real, integer, logical or character vectors as necessary. For example, to get the <code>x</code>, <code>y</code>, <code>z</code>, and <code>t</code> vectors from the previously-generated file:</p>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">csv_read_test</span>

<span class="k">use </span><span class="n">csv_module</span>
<span class="k">use </span><span class="n">iso_fortran_env</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="p">:</span><span class="w"> </span><span class="n">wp</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">real64</span>

<span class="k">implicit none</span>

<span class="k">type</span><span class="p">(</span><span class="n">csv_file</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">f</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span><span class="k">dimension</span><span class="p">(:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">header</span>
<span class="kt">real</span><span class="p">(</span><span class="n">wp</span><span class="p">),</span><span class="k">dimension</span><span class="p">(:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span>
<span class="kt">logical</span><span class="p">,</span><span class="k">dimension</span><span class="p">(:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">t</span>
<span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">status_ok</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">dimension</span><span class="p">(:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">itypes</span>

<span class="c">! read the file</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="k">read</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span><span class="n">header_row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">status_ok</span><span class="o">=</span><span class="n">status_ok</span><span class="p">)</span>

<span class="c">! get the header and type info</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">get_header</span><span class="p">(</span><span class="n">header</span><span class="p">,</span><span class="n">status_ok</span><span class="p">)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">variable_types</span><span class="p">(</span><span class="n">itypes</span><span class="p">,</span><span class="n">status_ok</span><span class="p">)</span>

<span class="c">! get some data</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">status_ok</span><span class="p">)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">status_ok</span><span class="p">)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">status_ok</span><span class="p">)</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">status_ok</span><span class="p">)</span>

<span class="c">! destroy the file</span>
<span class="k">call </span><span class="n">f</span><span class="p">%</span><span class="n">destroy</span><span class="p">()</span>

<span class="k">end program </span><span class="n">csv_read_test</span>
</code></pre></div>

<p>Various options are user-selectable for specifying the format (e.g., changing the quote or delimiter characters). You can choose to enclose strings (or all fields) in quotes or not. The library works pretty well, and there are probably additional improvements that could be made. For one thing, it doesn't properly handle the case of a string that contains the delimiter character (I'll eventually fix this). If anybody has any other improvements, fork it and send me a pull request.</p>
<h3>License</h3>
<p>This library is released under a <a href="https://github.com/jacobwilliams/csv-fortran/blob/master/LICENSE">BSD-3 license</a>.</p>
        </div>
          <div class="col-md-4">
            <div class="card card-body bg-light">
              <h2 class="card-title">Developer Info</h2>
              <h4 class="card-text">Jacob Williams</h4>
              <p class="card-text"></p>
                <div class="text-center"><div class="btn-group" role="group">
                    
                    <a class="btn btn-lg btn-primary" href="https://github.com/jacobwilliams"><i class="fa fa-github fa-lg"></i></a>
                    
                    
                    
                    
                    
                    
                </div></div>
            </div>
          </div>
      </div>
        <div class="row">
          <hr>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Source Files</h3>
              <ul><li><a href='sourcefile/csv_kinds.f90.html'>csv_kinds.f90</a></li><li><a href='sourcefile/csv_module.f90.html'>csv_module.F90</a></li><li><a href='sourcefile/csv_parameters.f90.html'>csv_parameters.f90</a></li><li><a href='sourcefile/csv_utilities.f90.html'>csv_utilities.f90</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/files.html"><em>All source files&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Modules</h3>
              <ul><li><a href='module/csv_kinds.html'>csv_kinds</a></li><li><a href='module/csv_module.html'>csv_module</a></li><li><a href='module/csv_parameters.html'>csv_parameters</a></li><li><a href='module/csv_utilities.html'>csv_utilities</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/modules.html"><em>All modules&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Procedures</h3>
              <ul><li><a href='proc/add_cell.html'>add_cell</a></li><li><a href='proc/add_matrix.html'>add_matrix</a></li><li><a href='proc/add_vector.html'>add_vector</a></li><li><a href='proc/close_csv_file.html'>close_csv_file</a></li><li><a href='proc/csv_get_value.html'>csv_get_value</a></li><li><a href='proc/destroy_csv_file.html'>destroy_csv_file</a></li><li><a href='proc/expand_vector.html'>expand_vector</a></li><li><a href='proc/get_character_column.html'>get_character_column</a></li><li><a href='proc/get_column.html'>get_column</a></li><li><a href='proc/get_csv_data_as_str.html'>get_csv_data_as_str</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/procedures.html"><em>All procedures&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Derived Types</h3>
              <ul><li><a href='type/csv_file.html'>csv_file</a></li><li><a href='type/csv_string.html'>csv_string</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/types.html"><em>All derived types&hellip;</em></a></li>
              </ul>
            </div>
          </div>
        </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              csv-fortran
 was developed by Jacob Williams<br>              &copy; 2024 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="./tipuesearch/tipuesearch_content.js"></script>
          <script src="./tipuesearch/tipuesearch_set.js"></script>
          <script src="./tipuesearch/tipuesearch.js"></script>

  </body>
</html>